import React, { useEffect, useState } from 'react';
import { View, StyleSheet, TouchableWithoutFeedback } from 'react-native';

import { useSelector } from 'react-redux';

import MyContainer from '../components/MyContainer';
import MyPickerInput from '../components/MyPickerInput';
import SubmitButton from '../components/SubmitButton';
import CancelButton from '../components/CancelButton';

import CardView from '../components/CardView';

import { Text, Bold } from '../components/Tags';
import * as GlobalFunctions from '../common/GlobalFunctions';
import GS from '../common/GlobalStyles';
import Colors from '../constants/Colors';
import Variables from '../constants/Variables';
import { ValidationType, KeyboardType, CapitalizeType } from '../constants/Enums';

const SpecialOpenTestScreen = props => {

    const appSettings = useSelector(state => state.init);

    const [showButtonLoader, setShowButtonLoader] = useState(false);
    const [isSubmitting, setIsSubmitting] = useState(false);

    const [formValues, setFormValues] = useState({ 'language_id': 2 });
    const [formErrors, setFormErrors] = useState({});
    const [formRefs, setFormRefs] = useState({});

    const startTestClickHandler = () => {
        GlobalFunctions.navigate(props, 'StartOpenTest', { langId: formValues['language_id'], special : 1 });
    }

    const moveToTestList = () => {
        GlobalFunctions.navigate(props, 'Dashboard');
    }

    return (
        <MyContainer navigation={props.navigation} title="Special One Test">
            <CardView style={{ ...GS.ph20, ...GS.mt15 }}>
                <Bold style={GS.fs16}>Test Instruction</Bold>
                <Text style={{ ...GS.pv10, ...GS.fs15 }}>
                    {appSettings.SpecialOpenTestInstructions}
                </Text>

                <SubmitButton title="Start Test" IsLoading={showButtonLoader} onPress={startTestClickHandler} style={GS.mv10} />

            </CardView>

            <CancelButton title="Cancel" onPress={moveToTestList} style={{ ...GS.mt10, ...GS.mb25, alignSelf: 'center' }} />
        </MyContainer>
    )

}

const styles = StyleSheet.create({
    txtPrefLang: {
        justifyContent: 'flex-end',
        alignItems: 'flex-end',
        marginRight: 5,
        paddingBottom: 8
    },
    testHeading: {
        fontSize: 25,
        paddingHorizontal: 20,
        marginTop: 20,
        color: Colors.primaryDark,
    }
})

export default SpecialOpenTestScreen;
